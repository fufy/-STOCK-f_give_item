/*
-------------------------------------------------------------------------------
********************************************************************************
-------------------------------------------------------------------------------

			Weapons Api, version 1.0
	Author:

			Hy, my name is Fuffy, i made this stock for my self
			and for the ExtreamCS community.

			This file is a Non-profit Sofwtare,please don't seel or
			edit this file, thank you.

	Stock's:
		get_user_weaponspeed(id)
		give_weapon(id, iWeaponTypeID,iClip=0, iBPAmmo=0)
		get_user_weaponname(id)


	Credits:

		AMX MOD Dev, 
		Nubo, 
		Exolent, 
		Bugsy, 
		Connor,
		xtreamCS community.
-------------------------------------------------------------------------------
********************************************************************************
-------------------------------------------------------------------------------
*/

#if defined _weapons_api_included
  #endinput
#endif
#define _weapons_api_included

#include <cstrike>
#include <engine>
#include <fun>

/***********
		@ give_weapon( )
		
		@Index - The player Index
		@iWeaponTypeID - CSW_ id weapon
		@iClip - Clip of weapon
		@iBPAmmo - Back Pack Ammo of weapon.


***********/

stock give_weapon( index, iWeaponTypeID, iClip = 0, iBPAmmo = 0 )
{
	if( is_user_alive( index ) )
	{	
		switch( iWeaponTypeID )
		{

			case CSW_DEAGLE:
			{
	
				if( user_has_weapon( index, CSW_DEAGLE ) ) 
				{	
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_deagle", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 
				}

				else
				{
					give_item( index, "weapon_deagle" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_deagle", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 
				}
			}

			case CSW_AWP:
			{
				if( user_has_weapon( index, CSW_AWP ) ) 
				{		
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_awp", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 
				}

				else
				{
					give_item( index, "weapon_awp" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_awp", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 		
				}
			}
	
			case CSW_USP:
			{
				if( user_has_weapon( index, CSW_USP ) ) 
				{		
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_usp", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_usp" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_usp", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}
			}

			case CSW_P228:
			{
				if( user_has_weapon( index, CSW_P228 ) ) 
				{		
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_p228", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_p228" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_p228", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_SCOUT:
			{
				if( user_has_weapon( index, CSW_SCOUT ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_scout", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_scout" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_scout", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_XM1014:
			{
				if( user_has_weapon( index, CSW_XM1014 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_xm1014", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_xm1014" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_xm1014", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_MAC10:
			{
				if( user_has_weapon( index, CSW_MAC10 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_mac10", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_mac10" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_mac10", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_AUG:
			{
				if( user_has_weapon( index, CSW_AUG ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_aug", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_aug" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_aug", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}
			}

			case CSW_ELITE:
			{
				if( user_has_weapon( index, CSW_ELITE ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_elite", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_elite" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_elite", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_FIVESEVEN:
			{
				if( user_has_weapon( index, CSW_FIVESEVEN ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_fiveseven", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_fiveseven" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_fivesven", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_UMP45:
			{
				if( user_has_weapon( index, CSW_UMP45 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_ump45", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_ump45" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_ump45", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_SG550:
			{
				if( user_has_weapon( index, CSW_SG550 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_sg550", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_sg550" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_sg550", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_GALIL:
			{
				if( user_has_weapon( index, CSW_GALIL ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_galil", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_galil" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_galil", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_FAMAS:
			{
				if( user_has_weapon( index, CSW_FAMAS ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_famas", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_famas" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_famas", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}		
			}

			case CSW_GLOCK18:
			{
				if( user_has_weapon( index, CSW_GLOCK18 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_glock18", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_glock18" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_glock18", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_MP5NAVY:
			{
				if( user_has_weapon( index, CSW_MP5NAVY ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_mp5navy", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_mp5navy" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_mp5navy", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}
			}

			case CSW_M249:
			{
				if( user_has_weapon( index, CSW_M249 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_m249", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_m249" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_m249", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_M3:
			{
				if( user_has_weapon( index, CSW_M3 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_m3", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_m3" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_m3", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_M4A1:
			{
				if( user_has_weapon( index, CSW_M4A1 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_m4a1", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_m4a1" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_m4a1", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_TMP:
			{
				if( user_has_weapon( index, CSW_TMP ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_tmp", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_tmp" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_tmp", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_G3SG1:
			{
				if( user_has_weapon( index, CSW_G3SG1 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_g3sg1", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_g3sg1" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_g3sg1", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}
			}

			case CSW_SG552:
			{
				if( user_has_weapon( index, CSW_SG552 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_sg552", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_sg552" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_sg552", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}


			case CSW_AK47:
			{
				if( user_has_weapon( index, CSW_AK47 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_ak47", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_ak47" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_ak47", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}	
			}

			case CSW_P90:
			{
				if( user_has_weapon( index, CSW_P90 ) ) 
				{
					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_p90", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					give_item( index, "weapon_p90" );

					cs_set_weapon_ammo( find_ent_by_owner(-1, "weapon_p90", index ), iClip );
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo); 

				}
			}

			case CSW_HEGRENADE:
			{
				if( user_has_weapon( index, CSW_HEGRENADE ) ) 
				{
					give_item( index, "weapon_hegrenade" );

					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}
			}

			case CSW_SMOKEGRENADE:
			{
				if( user_has_weapon( index, CSW_SMOKEGRENADE ) ) 
				{
					give_item( index, "weapon_smokegrenade" );

					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}
			}

			case CSW_FLASHBANG:
			{
				if( user_has_weapon( index, CSW_FLASHBANG ) ) 
				{
					give_item( index, "weapon_flashbang" );

					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}
			}

			case CSW_C4:
			{
				if( user_has_weapon( index, CSW_C4 ) ) 
				{
					give_item( index, "weapon_c4" );

					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}

				else
				{
					cs_set_user_bpammo(index, iWeaponTypeID, iBPAmmo);
				}
			}

			case CSW_KNIFE:
			{
				if( !user_has_weapon( index, CSW_KNIFE ) ) 
				{
					give_item( index, "weapon_knife" );
				}
			}

		}

	}
	
}

/***********

	@ Return the current weapon from the players hand.

***********/

stock get_user_weaponspeed( id ) 
{
	new iSpeed;

	switch( get_user_weapon( id ) ) 
	{ 	
		case CSW_KNIFE: iSpeed = 250; 
		case CSW_SCOUT: iSpeed = 260; 
     	 	case CSW_USP: iSpeed = 250; 
        	case CSW_P228: iSpeed = 250; 
        	case CSW_HEGRENADE: iSpeed = 250; 
        	case CSW_XM1014: iSpeed = 240; 
        	case CSW_C4: iSpeed = 250; 
        	case CSW_AUG: iSpeed = 240; 
        	case CSW_SMOKEGRENADE: iSpeed = 250; 
        	case CSW_ELITE: iSpeed = 250; 
        	case CSW_FIVESEVEN: iSpeed = 250; 
        	case CSW_UMP45: iSpeed = 250; 
        	case CSW_SG550: iSpeed = 210; 
        	case CSW_GALIL: iSpeed = 240; 
        	case CSW_FAMAS: iSpeed = 240; 
        	case CSW_GLOCK18: iSpeed = 250; 
        	case CSW_AWP: iSpeed = 210; 
        	case CSW_MP5NAVY: iSpeed = 250; 
        	case CSW_M249: iSpeed = 220; 
        	case CSW_M3: iSpeed = 230; 
        	case CSW_M4A1: iSpeed = 230; 
        	case CSW_TMP: iSpeed = 250; 
        	case CSW_G3SG1: iSpeed = 210; 
        	case CSW_FLASHBANG: iSpeed = 250; 
        	case CSW_DEAGLE: iSpeed = 250; 
        	case CSW_SG552: iSpeed = 235; 
        	case CSW_AK47: iSpeed = 221; 
        	case CSW_P90: iSpeed = 245 
	} 
	return iSpeed; 
}

/*
	Return weapon name from your hand( without the weapon_* prefix. );
*/
stock get_user_weaponname( id )
{
	new szWpName[ 20 ];
	get_weaponname( get_user_weapon( id ) , szWpName, charsmax( szWpName ) );

	replace( szWpName, charsmax( szWpName ), "weapon_", "" );
	
	ucfirst( szWpName );

	return szWpName;
}
